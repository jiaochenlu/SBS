<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiment Detail - Search NDCG Experiment</title>
    <link rel="stylesheet" href="experiment-detail.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="experiment-info">
                <h1 class="experiment-title">Search NDCG Experiment</h1>
                <div class="experiment-meta">
                    <span class="status-badge status-active">Active</span>
                    <span>Created: March 15, 2024</span>
                    <span>Owner: John Smith</span>
                    <span>247 queries</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Content Wrapper with matching background -->
    <div class="content-wrapper">
        <!-- Overview Section -->
        <div class="overview-section">
            <div class="content-container">
                <!-- Quick Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-info">
                            <div class="stat-number">247</div>
                            <div class="stat-label">Total Queries</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-info">
                            <div class="stat-number">189</div>
                            <div class="stat-label">Completed</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-info">
                            <div class="stat-number">8</div>
                            <div class="stat-label">Annotators</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-info">
                            <div class="stat-number">76%</div>
                            <div class="stat-label">Progress</div>
                        </div>
                    </div>
                </div>

                <!-- Progress Section -->
                <div class="section-card">
                    <div class="section-header">
                        <h3>Progress Overview</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 76%"></div>
                        </div>
                    </div>
                    <div class="progress-details">
                        <div class="progress-item">
                            <span class="progress-label">Completed</span>
                            <span class="progress-value">189 / 247 queries</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">In Progress</span>
                            <span class="progress-value">23 queries</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">Not Started</span>
                            <span class="progress-value">35 queries</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="tab-navigation">
            <div class="tab-container">
                <button class="tab-button active" data-tab="queries" onclick="switchTab('queries')">
                    Queries
                    <span class="tab-badge">247</span>
                </button>
                <button class="tab-button" data-tab="results" onclick="switchTab('results')">
                    Results
                </button>
                <button class="tab-button" data-tab="members" onclick="switchTab('members')">
                    Members
                    <span class="tab-badge">8</span>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
        
        <!-- Queries Tab -->
        <div id="queries-tab" class="tab-content active">
            <div class="content-container">
                <div class="section-header">
                    <h3>Query Management</h3>
                    <div class="header-actions">
                        <button class="btn-secondary" onclick="addQuery()">Add Query</button>
                        <button class="btn-secondary" onclick="importQueries()">Import Queries</button>
                        <button class="btn-primary" onclick="assignQueries()">Assign Selected</button>
                    </div>
                </div>

                <!-- Filters and Search -->
                <div class="filters-section">
                    <div class="search-box">
                        <input type="text" placeholder="Search queries..." class="search-input">
                        <button class="search-btn">üîç</button>
                    </div>
                    <div class="filter-buttons">
                        <select class="filter-select">
                            <option value="">All Status</option>
                            <option value="completed">Completed</option>
                            <option value="in-progress">In Progress</option>
                            <option value="not-started">Not Started</option>
                        </select>
                        <select class="filter-select">
                            <option value="">All Annotators</option>
                            <option value="john-smith">John Smith</option>
                            <option value="alice-miller">Alice Miller</option>
                            <option value="robert-johnson">Robert Johnson</option>
                        </select>
                    </div>
                </div>

                <!-- Query List -->
                <div class="query-list-container">
                    <div class="query-list-header">
                        <div class="checkbox-column">
                            <input type="checkbox" id="selectAll" onchange="toggleSelectAll()">
                        </div>
                        <div class="query-column">Query</div>
                        <div class="status-column">Status</div>
                        <div class="assignee-column">Assignee</div>
                        <div class="progress-column">Progress</div>
                        <div class="actions-column">Actions</div>
                    </div>
                    
                    <div class="query-list-body" id="queryListBody">
                        <!-- Query items will be dynamically loaded here -->
                    </div>
                </div>

                <!-- Pagination -->
                <div class="pagination">
                    <button class="pagination-btn" onclick="previousPage()">‚Üê Previous</button>
                    <span class="pagination-info">Page 1 of 10</span>
                    <button class="pagination-btn" onclick="nextPage()">Next ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Members Tab -->
        <div id="members-tab" class="tab-content">
            <div class="content-container">
                <div class="section-header">
                    <h3>Team Members</h3>
                    <div class="header-actions">
                        <button class="btn-secondary" onclick="addMember()">Add Member</button>
                        <button class="btn-primary" onclick="manageRoles()">Manage Roles</button>
                    </div>
                </div>

                <!-- Members List -->
                <div class="members-grid">
                    <!-- Members will be dynamically loaded here -->
                </div>

                <!-- Add Member Modal -->
                <div id="addMemberModal" class="modal" style="display: none;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Add New Member</h3>
                            <button class="modal-close" onclick="closeAddMemberModal()">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label>Email Address</label>
                                <input type="email" class="form-control" placeholder="Enter email address">
                            </div>
                            <div class="form-group">
                                <label>Role</label>
                                <select class="form-control">
                                    <option value="annotator">Annotator</option>
                                    <option value="admin">Admin</option>
                                    <option value="owner">Owner</option>
                                    <option value="viewer">Viewer</option>
                                </select>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn-secondary" onclick="closeAddMemberModal()">Cancel</button>
                            <button class="btn-primary" onclick="addMemberSubmit()">Add Member</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Tab -->
        <div id="results-tab" class="tab-content">
            <div class="content-container">
                <div class="section-header">
                    <h3>Annotation Results</h3>
                    <div class="header-actions">
                        <button class="btn-secondary" onclick="downloadReport()">Download Report</button>
                        <button class="btn-primary" onclick="exportData()">Export Data</button>
                    </div>
                </div>

                <!-- Results Summary -->
                <div class="results-summary">
                    <div class="summary-card">
                        <div class="summary-title">Inter-Annotator Agreement</div>
                        <div class="summary-value">87.3%</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-title">Average Completion Time</div>
                        <div class="summary-value">2.3 min</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-title">Quality Score</div>
                        <div class="summary-value">9.1/10</div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-section">
                    <div class="chart-container">
                        <h4>Completion Progress Over Time</h4>
                        <div class="chart-placeholder">üìà Chart will be rendered here</div>
                    </div>
                    <div class="chart-container">
                        <h4>Answer Distribution</h4>
                        <div class="chart-placeholder">üìä Chart will be rendered here</div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    </div>

    <script src="experiment-detail.js"></script>
</body>
</html>
